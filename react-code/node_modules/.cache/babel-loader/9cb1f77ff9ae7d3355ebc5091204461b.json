{"ast":null,"code":"var _jsxFileName = \"/home/ayushnagar123/Desktop/github/minor-1/Smart-List-React/src/components/CardList/CardList.js\";\nimport React, { Component } from 'react';\nimport Card from '../Card/Card';\nimport axios from 'axios';\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\nexport default class CardsList extends Component {\n  constructor(props) {\n    super(props);\n    this.moveRestUp = this.moveRestUp.bind(this);\n    this.removeCard = this.removeCard.bind(this);\n    this.resetTravel = this.resetTravel.bind(this);\n    this.beginRemoveCard = this.beginRemoveCard.bind(this);\n    this.state = {\n      cards: [// {name: 'item 1', value: '1',id:'1'},\n        // {name: 'item 2', value: '2',id:'2'},\n        // {name: 'item 3', value: '3',id:'3'},\n        // {name: 'item 4', value: '4',id:'4'},\n        // {name: 'item 5', value: '5',id:'5'},\n        // {name: 'item 6', value: '6',id:'6'},\n        // {name: 'item 7', value: '7',id:'7'},\n        // {name: 'item 8', value: '8',id:'8'},\n        // {name: 'item 9', value: '9',id:'9'},\n        // {name: 'item 10', value: '10',id:'10'},\n        // {name: 'item 11', value: '11',id:'11'},\n        // {name: 'item 12', value: '12',id:'12'}\n      ]\n    };\n  }\n\n  componentWillMount() {\n    axios.get('https://smart-flask-api.herokuapp.com/ml/recommend').then(res => {\n      console.log(res.data);\n      const result = res.data;\n      this.setState({\n        result: result\n      });\n    });\n  }\n\n  removeCard(card) {\n    let index = this.state.cards.indexOf(card);\n\n    if (index > -1) {\n      return [...this.state.cards.slice(0, index), ...this.state.cards.slice(index + 1)];\n    }\n  }\n\n  beginRemoveCard(card) {\n    let newCards = [...this.state.cards];\n    newCards[newCards.indexOf(card)].removing = true;\n    this.setState({\n      cards: newCards\n    });\n  }\n\n  moveRestUp(card, delta) {\n    let initialCardIndex = this.state.cards.indexOf(card);\n    let newCards = [...this.state.cards];\n    newCards.forEach((currCard, i) => {\n      if (i > initialCardIndex) {\n        currCard.travelTo = delta;\n      }\n    });\n    this.setState({\n      cards: newCards\n    });\n  }\n\n  resetTravel() {\n    let newCards = this.removeCard(this.state.cards.find(card => card.removing));\n\n    if (newCards) {\n      newCards.forEach(card => delete card.travelTo);\n      this.setState({\n        cards: newCards\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"cards-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, this.state.cards.map((card, i) => {\n      return React.createElement(Card, {\n        key: card.id,\n        card: card,\n        moveRestUp: this.moveRestUp,\n        resetTravel: i === this.state.cards.length - 1 ? this.resetTravel : null // removeCard={this.removeCard}\n        ,\n        beginRemoveCard: this.beginRemoveCard,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      });\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/ayushnagar123/Desktop/github/minor-1/Smart-List-React/src/components/CardList/CardList.js"],"names":["React","Component","Card","axios","defaults","headers","post","CardsList","constructor","props","moveRestUp","bind","removeCard","resetTravel","beginRemoveCard","state","cards","componentWillMount","get","then","res","console","log","data","result","setState","card","index","indexOf","slice","newCards","removing","delta","initialCardIndex","forEach","currCard","i","travelTo","find","render","map","id","length"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Card from '../Card/Card'\nimport axios from 'axios'\naxios.defaults.headers.post['Content-Type'] ='application/x-www-form-urlencoded';\nexport default class CardsList extends Component {\n\n    constructor(props){\n        super(props);\n        this.moveRestUp = this.moveRestUp.bind(this);\n        this.removeCard = this.removeCard.bind(this);\n        this.resetTravel = this.resetTravel.bind(this);\n        this.beginRemoveCard = this.beginRemoveCard.bind(this);\n        this.state = {\n            cards: [\n                // {name: 'item 1', value: '1',id:'1'},\n                // {name: 'item 2', value: '2',id:'2'},\n                // {name: 'item 3', value: '3',id:'3'},\n                // {name: 'item 4', value: '4',id:'4'},\n                // {name: 'item 5', value: '5',id:'5'},\n                // {name: 'item 6', value: '6',id:'6'},\n                // {name: 'item 7', value: '7',id:'7'},\n                // {name: 'item 8', value: '8',id:'8'},\n                // {name: 'item 9', value: '9',id:'9'},\n                // {name: 'item 10', value: '10',id:'10'},\n                // {name: 'item 11', value: '11',id:'11'},\n                // {name: 'item 12', value: '12',id:'12'}\n            ]\n        };\n    }\n    componentWillMount(){\n        axios.get('https://smart-flask-api.herokuapp.com/ml/recommend')\n        .then(res=>{\n          console.log(res.data)\n          const result = res.data;\n          this.setState({result:result})\n        })\n    }\n    \n\n    removeCard(card) {\n        let index = this.state.cards.indexOf(card);\n\n        if (index > -1) {\n            return [...this.state.cards.slice(0, index), ...this.state.cards.slice(index+1)];\n        }\n\n    }\n\n    beginRemoveCard(card) {\n        let newCards = [...this.state.cards];\n        newCards[newCards.indexOf(card)].removing = true;\n        this.setState({cards: newCards});\n    }\n\n    moveRestUp(card, delta){\n        let initialCardIndex = this.state.cards.indexOf(card);\n        let newCards = [...this.state.cards];\n        newCards.forEach((currCard, i)=>{\n            if (i>initialCardIndex){\n                currCard.travelTo = delta\n            }\n        });\n\n        this.setState({cards: newCards});\n    }\n\n    resetTravel(){\n        let newCards = this.removeCard(this.state.cards.find(card=>card.removing));\n\n        if (newCards) {\n            newCards.forEach(card=>delete card.travelTo);\n            this.setState({cards: newCards});\n        }\n    }\n\n    render() {\n        return <div className=\"cards-list\">\n            {this.state.cards.map((card, i)=>{\n                return <Card\n                    key={card.id}\n                    card={card}\n                    moveRestUp={this.moveRestUp}\n                    resetTravel={i === this.state.cards.length-1 ? this.resetTravel : null}\n                    // removeCard={this.removeCard}\n                    beginRemoveCard={this.beginRemoveCard}/>\n            })}\n        </div>\n    }\n}"]},"metadata":{},"sourceType":"module"}