{"ast":null,"code":"import _classCallCheck from\"/home/ayushnagar123/Desktop/github/Automated-grocery-list/mideval/server/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ayushnagar123/Desktop/github/Automated-grocery-list/mideval/server/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ayushnagar123/Desktop/github/Automated-grocery-list/mideval/server/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ayushnagar123/Desktop/github/Automated-grocery-list/mideval/server/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ayushnagar123/Desktop/github/Automated-grocery-list/mideval/server/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./customers.css';var Customers=/*#__PURE__*/function(_Component){_inherits(Customers,_Component);//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       error: null,\n//       isLoaded: false,\n//       customers: []\n//     };\n//   }\n//   componentDidMount() {\n//     fetch('/api/customers')\n//       .then(res => res.json())\n//       .then(\n//         (customers) => {\n//           this.setState({\n//             isLoaded: true,\n//             customers: customers\n//           });\n//         })\n//   }\n// render(){\n//   if(error){\n//     return <div>Error in loading</div>\n//   }else if (!isLoaded) {\n//     return <div>Loading ...</div>\n//   }else{\n//   return (\n//       <div>\n//         <h2>Customers</h2>\n//         <ul>\n//         {customers.map(customer => \n//           <li>{customer.fname} {customer.lname}</li>\n//         )}\n//         </ul>\n//       </div>\n//     );\n//   }\n// }\nfunction Customers(){var _this;_classCallCheck(this,Customers);_this=_possibleConstructorReturn(this,_getPrototypeOf(Customers).call(this));_this.state={error:null,isLoaded:false,data:[]};return _this;}_createClass(Customers,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// I will use fake api from jsonplaceholder website\n// this return 100 posts \nfetch('/ml/recommend').then(function(response){return response.json();}).then(// handle the result\nfunction(customers){console.log(customers);var customer;if(!customers){customer=[];}else{customer=customers;}_this2.setState({isLoaded:true,// if(!customers.data){\ndata:customer// }\n},function(){return console.log('Customers fetched...',customers);});},// Handle error \nfunction(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"render\",value:function render(){// const {error, isLoaded, customers} = this.state;\nif(this.state.error){return React.createElement(\"div\",null,\"Error in loading\");}else if(!this.state.isLoaded){return React.createElement(\"div\",null,\"Loading ...\");}else{return React.createElement(\"div\",null,React.createElement(\"h2\",null,\"Customers\"),React.createElement(\"ul\",null,this.state.data.map(function(customer){return React.createElement(\"li\",{key:customer.id},customer.productId,\" \",customer.customerId);})));}}}]);return Customers;}(Component);export default Customers;","map":{"version":3,"sources":["/home/ayushnagar123/Desktop/github/Automated-grocery-list/mideval/server/client/src/components/customers.js"],"names":["React","Component","Customers","state","error","isLoaded","data","fetch","then","response","json","customers","console","log","customer","setState","map","id","productId","customerId"],"mappings":"wzBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,iBAAP,C,GAEMC,CAAAA,S,mEACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAa,2CACX,6EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAG,IADC,CAETC,QAAQ,CAAG,KAFF,CAGTC,IAAI,CAAG,EAHE,CAAb,CAFW,aAOZ,C,mFAGkB,iBACjB;AACA;AACAC,KAAK,CAAC,eAAD,CAAL,CACCC,IADD,CACO,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADf,EAECF,IAFD,CAGI;AACA,SAACG,SAAD,CAAe,CACXC,OAAO,CAACC,GAAR,CAAYF,SAAZ,EACA,GAAIG,CAAAA,QAAJ,CACA,GAAG,CAACH,SAAJ,CAAc,CACZG,QAAQ,CAAC,EAAT,CACD,CAFD,IAGI,CACFA,QAAQ,CAACH,SAAT,CACD,CACD,MAAI,CAACI,QAAL,CAAc,CACVV,QAAQ,CAAG,IADD,CAEV;AACAC,IAAI,CAACQ,QACL;AAJU,CAAd,CAME,iBAAMF,CAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCF,SAApC,CAAN,EANF,EAQH,CArBL,CAsBI;AACA,SAACP,KAAD,CAAW,CACP,MAAI,CAACW,QAAL,CAAc,CACVV,QAAQ,CAAE,IADA,CAEVD,KAAK,CAALA,KAFU,CAAd,EAIH,CA5BL,EA8BD,C,uCACQ,CACP;AACA,GAAG,KAAKD,KAAL,CAAWC,KAAd,CAAoB,CAChB,MAAO,mDAAP,CACH,CAFD,IAEM,IAAI,CAAC,KAAKD,KAAL,CAAWE,QAAhB,CAA0B,CAC5B,MAAO,8CAAP,CACH,CAFK,IAED,CACD,MACI,gCACE,0CADF,CAEE,8BACC,KAAKF,KAAL,CAAWG,IAAX,CAAgBU,GAAhB,CAAoB,SAAAF,QAAQ,QAC/B,2BAAI,GAAG,CAAEA,QAAQ,CAACG,EAAlB,EAAuBH,QAAQ,CAACI,SAAhC,KAA4CJ,QAAQ,CAACK,UAArD,CAD+B,EAA5B,CADD,CAFF,CADJ,CAUH,CAEF,C,uBAtGuBlB,S,EAyGxB,cAAeC,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport './customers.css';\n\nclass Customers extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       error: null,\n//       isLoaded: false,\n//       customers: []\n//     };\n//   }\n\n//   componentDidMount() {\n//     fetch('/api/customers')\n//       .then(res => res.json())\n//       .then(\n//         (customers) => {\n//           this.setState({\n//             isLoaded: true,\n//             customers: customers\n//           });\n//         })\n//   }\n// render(){\n//   if(error){\n//     return <div>Error in loading</div>\n//   }else if (!isLoaded) {\n//     return <div>Loading ...</div>\n//   }else{\n//   return (\n//       <div>\n//         <h2>Customers</h2>\n//         <ul>\n//         {customers.map(customer => \n//           <li>{customer.fname} {customer.lname}</li>\n//         )}\n//         </ul>\n//       </div>\n//     );\n//   }\n// }\nconstructor(){\n  super();\n  this.state = {\n      error : null,\n      isLoaded : false,\n      data : []   \n  };\n}\n\n\ncomponentDidMount(){\n  // I will use fake api from jsonplaceholder website\n  // this return 100 posts \n  fetch('/ml/recommend')\n  .then( response => response.json())\n  .then(\n      // handle the result\n      (customers) => {\n          console.log(customers)\n          var customer;\n          if(!customers){\n            customer=[]\n          }\n          else{\n            customer=customers\n          }\n          this.setState({\n              isLoaded : true,\n              // if(!customers.data){\n              data:customer\n              // }\n          }\n          , () => console.log('Customers fetched...', customers)\n          );\n      },\n      // Handle error \n      (error) => {\n          this.setState({\n              isLoaded: true,\n              error\n          })\n      },\n  )\n}\nrender() {\n  // const {error, isLoaded, customers} = this.state;\n  if(this.state.error){\n      return <div>Error in loading</div>\n  }else if (!this.state.isLoaded) {\n      return <div>Loading ...</div>\n  }else{\n      return(\n          <div>\n            <h2>Customers</h2>\n            <ul>\n            {this.state.data.map(customer => \n          <li key={customer.id}>{customer.productId} {customer.customerId}</li>\n        )}\n            </ul>\n          </div>\n      );\n  }\n\n}\n}\n\nexport default Customers;\n"]},"metadata":{},"sourceType":"module"}